<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <title>VizinApp Pro</title>
    
    <script type="module" src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.esm.js"></script>
    <script nomodule src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@ionic/core/css/ionic.bundle.css" />
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="/style.css" />
</head>
<body>
    <ion-app>

        <div id="screen-login" class="ion-page">
            <ion-content class="ion-padding" color="light">
                <div style="display: flex; flex-direction: column; justify-content: center; height: 100%; max-width: 400px; margin: 0 auto;">
                    <h1 style="text-align: center; font-size: 3.5rem; font-weight: 900; margin-bottom: 5px; letter-spacing: -2px;">Vizin<span style="color: var(--ion-color-secondary);">Vizin</span></h1>
                    <p style="text-align: center; color: #666; margin-bottom: 40px; font-weight: 500;">A sua vizinhança conectada.</p>
                    
                    <ion-card style="margin: 0 0 20px 0; border-radius: 16px; box-shadow: 0 4px 12px rgba(0,0,0,0.05);">
                        <ion-item lines="full">
                            <ion-icon name="mail-outline" slot="start" color="medium"></ion-icon>
                            <ion-input id="authEmail" type="email" label="E-mail" label-placement="floating" placeholder="Digite seu e-mail"></ion-input>
                        </ion-item>
                        <ion-item lines="none">
                            <ion-icon name="lock-closed-outline" slot="start" color="medium"></ion-icon>
                            <ion-input id="authPassword" type="password" label="Senha" label-placement="floating" placeholder="Sua senha secreta"></ion-input>
                        </ion-item>
                    </ion-card>
                    
                    <ion-button id="btnLogin" expand="block" shape="round" style="margin-bottom: 15px; height: 50px; font-weight: bold;">Entrar</ion-button>
                    <ion-button id="btnRegister" expand="block" fill="clear" shape="round" color="dark">Criar Conta Nova</ion-button>
                    
                    <p id="authStatus" style="text-align: center; color: var(--ion-color-danger); margin-top: 20px; font-weight: bold;"></p>
                </div>
            </ion-content>
        </div>

        <div id="screen-app" class="ion-page" style="display: none;">
            
            <ion-content scroll-y="false">
                <div id="map"></div>
                
                <div style="position: absolute; top: env(safe-area-inset-top, 20px); left: 16px; right: 16px; z-index: 1000;">
                    <ion-card id="btnAddOrder" style="margin: 0; border-radius: 24px; box-shadow: 0 8px 24px rgba(0,0,0,0.12); cursor: pointer;">
                        <ion-item lines="none" detail="false" style="--padding-start: 20px; --padding-top: 10px; --padding-bottom: 10px;">
                            <ion-icon name="search" slot="start" style="font-size: 24px;" color="dark"></ion-icon>
                            <ion-label>
                                <h2 style="font-weight: 800; font-size: 1.2rem; color: #000;">Para onde?</h2>
                                <p style="font-weight: 500;">Ou melhor, o que você precisa hoje?</p>
                            </ion-label>
                        </ion-item>
                    </ion-card>
                </div>

                <ion-fab vertical="bottom" horizontal="end" slot="fixed" style="margin-bottom: 16px; margin-right: 16px;">
                    <ion-fab-button id="btnGps" color="light" style="box-shadow: 0 4px 12px rgba(0,0,0,0.15);">
                        <ion-icon name="locate"></ion-icon>
                    </ion-fab-button>
                </ion-fab>
            </ion-content>

            <ion-footer>
                <ion-toolbar style="--background: rgba(255,255,255,0.9); --backdrop-filter: blur(10px);">
                    <ion-segment value="inicio" mode="md">
                        <ion-segment-button value="inicio" onclick="document.getElementById('screen-app').style.display='block'">
                            <ion-icon name="home"></ion-icon>
                            <ion-label style="font-size: 10px; font-weight: bold;">Início</ion-label>
                        </ion-segment-button>
                        <ion-segment-button value="atividade" id="btnOpenOrders">
                            <ion-icon name="receipt"></ion-icon>
                            <ion-label style="font-size: 10px; font-weight: bold;">Atividade</ion-label>
                        </ion-segment-button>
                        <ion-segment-button value="conta" id="btnOpenProfile">
                            <ion-icon name="person"></ion-icon>
                            <ion-label style="font-size: 10px; font-weight: bold;">Conta</ion-label>
                        </ion-segment-button>
                    </ion-segment>
                </ion-toolbar>
            </ion-footer>
        </div>

        <ion-modal id="modalNewOrder" initial-breakpoint="0.6" breakpoints="[0, 0.6, 0.9]">
            <ion-content class="ion-padding">
                <div style="width: 40px; height: 4px; background: #ccc; border-radius: 4px; margin: 10px auto 20px;"></div>
                <h2 style="font-weight: 900; font-size: 1.5rem; margin-bottom: 20px;">Detalhes do Pedido</h2>
                
                <ion-list style="border-radius: 16px; overflow: hidden; box-shadow: 0 2px 10px rgba(0,0,0,0.05); margin-bottom: 20px;">
                    <ion-item lines="full">
                        <ion-input id="orderTitle" label="O que precisa?" label-placement="floating" placeholder="Ex: Comprar pão"></ion-input>
                    </ion-item>
                    <ion-item lines="full">
                        <ion-textarea id="orderDesc" label="Detalhes" label-placement="floating" placeholder="Instruções adicionais"></ion-textarea>
                    </ion-item>
                    <ion-item lines="none">
                        <ion-icon name="cash-outline" slot="start" color="success"></ion-icon>
                        <ion-input id="orderValue" type="number" label="Valor a pagar (R$)" label-placement="floating" placeholder="0.00"></ion-input>
                    </ion-item>
                </ion-list>
                
                <ion-button id="btnSubmitOrder" expand="block" shape="round" style="height: 55px; font-weight: bold; font-size: 1.1rem;">Confirmar e Pagar</ion-button>
            </ion-content>
        </ion-modal>

    </ion-app>

    <script type="module" src="/main.js"></script>
</body>
</html>
